{{! app/templates/travel-animation.hbs }}
<div id="travel-animation-popup" class="travel-animation-container {{#unless isActive}}hidden{{/unless}}">
  <div class="travel-animation-terrain" style="background-color: {{terrainColor}};">
    {{#each terrainPatternRows}}
      <div class="terrain-row">
        {{#each this}}
          <span class="terrain-symbol">{{symbol}}</span>
        {{/each}}
      </div>
    {{/each}}
    
    {{!-- The Marker itself --}}
    <div class="travel-animation-marker" style="left: {{markerPosition}}%;">
      {{!-- Conditionally render custom image or fallback --}}
      {{#if currentMapPartyMarkerImagePath}}
        <img src="{{currentMapPartyMarkerImagePath}}" 
             alt="Party Marker" 
             class="w-full h-full object-contain" {{!-- Make image fill the marker div --}}
             onerror="this.style.display='none'; this.parentElement.querySelector('.fallback-marker-icon').style.display='block';" {{!-- Basic error handling --}}
        />
        {{!-- Fallback for if image fails to load, hidden by default --}}
        <span class.="fallback-marker-icon" style="display:none; font-size: 10px; text-align: center; line-height: 16px;">ðŸ‘¥</span> 
      {{else}}
        {{!-- Default party icon (you can use text, an SVG, or keep the pseudo-element if preferred) --}}
        {{!-- Using text for simplicity here as ::before is CSS only --}}
        <span style="font-size: 10px; text-align: center; line-height: 16px;">ðŸ‘¥</span> 
      {{/if}}
    </div>
  </div>
  <div class="travel-animation-info">
    Travelling through {{terrainName}}...
  </div>
</div>